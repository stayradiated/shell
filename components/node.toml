name = 'node'
from = 'base'

# https://nodejs.org/en/
version = '12.18.4' # 14.11.0

devDependencies = [
  'nvm'
]

build = """
bash -c 'source $NVM_DIR/nvm.sh && nvm install {{VERSION}}'
mv "${NVM_DIR}/versions/node/v{{VERSION}}" /usr/local/lib/node

PATH="/usr/local/lib/node/bin:${PATH}"

npm config set user root
npm config set save-exact true
"""

exports = [
  '/usr/local/lib/node/'
]

exportEnv = [
  ['PATH', '/usr/local/lib/node/bin:${PATH}']
]
