name = 'obsidian'
from = 'base'

# https://obsidian.md/download
version = '1.5.3'

devDependencies = [
  'wget',
  'apteryx',
]

build = """
wget -O /tmp/obsidian.deb \
  "https://github.com/obsidianmd/obsidian-releases/releases/download/v{{VERSION}}/obsidian_{{VERSION}}_amd64.deb"

apteryx /tmp/obsidian.deb
"""

exports = [
  # "/etc/alternatives/open",
  # "/etc/alternatives/open.1.gz",
  # "/etc/alternatives/x-cursor-theme",
  # "/etc/dconf/",
  # "/etc/fonts/",
  # "/etc/gtk-3.0/",
  # "/etc/init.d/x11-common",
  # "/etc/ld.so.cache",
  # "/etc/rcS.d/S01x11-common",
  # "/etc/X11/rgb.txt",
  # "/etc/X11/xkb",
  # "/etc/X11/xorg.conf.d",
  # "/etc/X11/Xreset",
  # "/etc/X11/Xreset.d/",
  # "/etc/X11/Xresources/",
  # "/etc/X11/Xsession",
  # "/etc/X11/Xsession.d/20dbus_xdg-runtime",
  # "/etc/X11/Xsession.d/20x11-common_process-args",
  # "/etc/X11/Xsession.d/30x11-common_xresources",
  # "/etc/X11/Xsession.d/35x11-common_xhost-local",
  # "/etc/X11/Xsession.d/40x11-common_xsessionrc",
  # "/etc/X11/Xsession.d/50x11-common_determine-startup",
  # "/etc/X11/Xsession.d/60x11-common_xdg_path",
  # "/etc/X11/Xsession.d/90x11-common_ssh-agent",
  # "/etc/X11/Xsession.d/99x11-common_start",
  # "/etc/X11/Xsession.options",
  "/opt/Obsidian/",
  # "/usr/bin/browse",
  # "/usr/bin/dbus-cleanup-sockets",
  # "/usr/bin/dbus-daemon",
  # "/usr/bin/dbus-monitor",
  # "/usr/bin/dbus-run-session",
  # "/usr/bin/dbus-send",
  # "/usr/bin/dbus-update-activation-environment",
  # "/usr/bin/dbus-uuidgen",
  # "/usr/bin/fc-cache",
  # "/usr/bin/fc-cat",
  # "/usr/bin/fc-conflist",
  # "/usr/bin/fc-list",
  # "/usr/bin/fc-match",
  # "/usr/bin/fc-pattern",
  # "/usr/bin/fc-query",
  # "/usr/bin/fc-scan",
  # "/usr/bin/fc-validate",
  # "/usr/bin/gtk-update-icon-cache",
  "/usr/bin/obsidian",
  # "/usr/bin/open",
  # "/usr/bin/update-mime-database",
  # "/usr/bin/X11",
  # "/usr/bin/xdg-desktop-icon",
  # "/usr/bin/xdg-desktop-menu",
  # "/usr/bin/xdg-email",
  # "/usr/bin/xdg-icon-resource",
  # "/usr/bin/xdg-mime",
  # "/usr/bin/xdg-open",
  # "/usr/bin/xdg-screensaver",
  # "/usr/bin/xdg-settings",
  # "/usr/include/X11",
  # "/usr/lib/dbus-1.0/dbus-daemon-launch-helper",
  # "/usr/lib/systemd/user/dbus.service",
  # "/usr/lib/systemd/user/dbus.socket",
  # "/usr/lib/systemd/user/dconf.service",
  # "/usr/lib/systemd/user/sockets.target.wants/",
  # "/usr/lib/X11",
  "/usr/lib/x86_64-linux-gnu/avahi/",
  "/usr/lib/x86_64-linux-gnu/gdk-pixbuf-2.0/",
  "/usr/lib/x86_64-linux-gnu/gio/modules/giomodule.cache",
  "/usr/lib/x86_64-linux-gnu/gio/modules/libdconfsettings.so",
  "/usr/lib/x86_64-linux-gnu/gtk-3.0/",
  "/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0.23609.1",
  "/usr/lib/x86_64-linux-gnu/libatk-bridge-2.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libatk-bridge-2.0.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libatspi.so.0",
  "/usr/lib/x86_64-linux-gnu/libatspi.so.0.0.1",
  "/usr/lib/x86_64-linux-gnu/libavahi-client.so.3",
  "/usr/lib/x86_64-linux-gnu/libavahi-client.so.3.2.9",
  "/usr/lib/x86_64-linux-gnu/libavahi-common.so.3",
  "/usr/lib/x86_64-linux-gnu/libavahi-common.so.3.5.4",
  "/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2",
  "/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2.11600.0",
  "/usr/lib/x86_64-linux-gnu/libcairo.so.2",
  "/usr/lib/x86_64-linux-gnu/libcairo.so.2.11600.0",
  "/usr/lib/x86_64-linux-gnu/libcolord.so.2",
  "/usr/lib/x86_64-linux-gnu/libcolord.so.2.0.5",
  "/usr/lib/x86_64-linux-gnu/libcolordprivate.so.2",
  "/usr/lib/x86_64-linux-gnu/libcolordprivate.so.2.0.5",
  "/usr/lib/x86_64-linux-gnu/libcups.so.2",
  "/usr/lib/x86_64-linux-gnu/libdatrie.so.1",
  "/usr/lib/x86_64-linux-gnu/libdatrie.so.1.4.0",
  "/usr/lib/x86_64-linux-gnu/libdbus-1.so.3.19.13",
  "/usr/lib/x86_64-linux-gnu/libdconf.so.1",
  "/usr/lib/x86_64-linux-gnu/libdconf.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libdeflate.so.0",
  "/usr/lib/x86_64-linux-gnu/libepoxy.so.0",
  "/usr/lib/x86_64-linux-gnu/libepoxy.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libfontconfig.so.1",
  "/usr/lib/x86_64-linux-gnu/libfontconfig.so.1.12.0",
  "/usr/lib/x86_64-linux-gnu/libfreebl3.chk",
  "/usr/lib/x86_64-linux-gnu/libfreebl3.so",
  "/usr/lib/x86_64-linux-gnu/libfreeblpriv3.chk",
  "/usr/lib/x86_64-linux-gnu/libfreeblpriv3.so",
  "/usr/lib/x86_64-linux-gnu/libfreetype.so.6",
  "/usr/lib/x86_64-linux-gnu/libfreetype.so.6.18.1",
  "/usr/lib/x86_64-linux-gnu/libfribidi.so.0",
  "/usr/lib/x86_64-linux-gnu/libfribidi.so.0.4.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0.4200.8",
  "/usr/lib/x86_64-linux-gnu/libgdk-3.so.0",
  "/usr/lib/x86_64-linux-gnu/libgdk-3.so.0.2404.29",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.2.0.0",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.3",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.3.2.1",
  "/usr/lib/x86_64-linux-gnu/libgtk-3-0/",
  "/usr/lib/x86_64-linux-gnu/libgtk-3.so.0",
  "/usr/lib/x86_64-linux-gnu/libgtk-3.so.0.2404.29",
  "/usr/lib/x86_64-linux-gnu/libharfbuzz.so.0",
  "/usr/lib/x86_64-linux-gnu/libharfbuzz.so.0.20704.0",
  "/usr/lib/x86_64-linux-gnu/libjbig.so.0",
  "/usr/lib/x86_64-linux-gnu/libjpeg.so.8",
  "/usr/lib/x86_64-linux-gnu/libjpeg.so.8.2.2",
  "/usr/lib/x86_64-linux-gnu/liblcms2.so.2",
  "/usr/lib/x86_64-linux-gnu/liblcms2.so.2.0.12",
  "/usr/lib/x86_64-linux-gnu/libnotify.so.4",
  "/usr/lib/x86_64-linux-gnu/libnotify.so.4.0.0",
  "/usr/lib/x86_64-linux-gnu/libnspr4.so",
  "/usr/lib/x86_64-linux-gnu/libnss3.so",
  "/usr/lib/x86_64-linux-gnu/libnssutil3.so",
  "/usr/lib/x86_64-linux-gnu/libpango-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpango-1.0.so.0.5000.6",
  "/usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0.5000.6",
  "/usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0.5000.6",
  "/usr/lib/x86_64-linux-gnu/libpixman-1.so.0",
  "/usr/lib/x86_64-linux-gnu/libpixman-1.so.0.40.0",
  "/usr/lib/x86_64-linux-gnu/libplc4.so",
  "/usr/lib/x86_64-linux-gnu/libplds4.so",
  "/usr/lib/x86_64-linux-gnu/libpng16.so.16",
  "/usr/lib/x86_64-linux-gnu/libpng16.so.16.37.0",
  "/usr/lib/x86_64-linux-gnu/libsecret-1.so.0",
  "/usr/lib/x86_64-linux-gnu/libsecret-1.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libsmime3.so",
  "/usr/lib/x86_64-linux-gnu/libssl3.so",
  "/usr/lib/x86_64-linux-gnu/libthai.so.0",
  "/usr/lib/x86_64-linux-gnu/libthai.so.0.3.1",
  "/usr/lib/x86_64-linux-gnu/libtiff.so.5",
  "/usr/lib/x86_64-linux-gnu/libtiff.so.5.7.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-client.so.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-client.so.0.20.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0.20.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1",
  "/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1.20.0",
  "/usr/lib/x86_64-linux-gnu/libwebp.so.7",
  "/usr/lib/x86_64-linux-gnu/libwebp.so.7.1.3",
  "/usr/lib/x86_64-linux-gnu/libX11.so.6",
  "/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0",
  "/usr/lib/x86_64-linux-gnu/libXau.so.6",
  "/usr/lib/x86_64-linux-gnu/libXau.so.6.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-render.so.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-render.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-shm.so.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-shm.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb.so.1",
  "/usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0",
  "/usr/lib/x86_64-linux-gnu/libXcomposite.so.1",
  "/usr/lib/x86_64-linux-gnu/libXcomposite.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libXcursor.so.1",
  "/usr/lib/x86_64-linux-gnu/libXcursor.so.1.0.2",
  "/usr/lib/x86_64-linux-gnu/libXdamage.so.1",
  "/usr/lib/x86_64-linux-gnu/libXdamage.so.1.1.0",
  "/usr/lib/x86_64-linux-gnu/libXdmcp.so.6",
  "/usr/lib/x86_64-linux-gnu/libXdmcp.so.6.0.0",
  "/usr/lib/x86_64-linux-gnu/libXext.so.6",
  "/usr/lib/x86_64-linux-gnu/libXext.so.6.4.0",
  "/usr/lib/x86_64-linux-gnu/libXfixes.so.3",
  "/usr/lib/x86_64-linux-gnu/libXfixes.so.3.1.0",
  "/usr/lib/x86_64-linux-gnu/libXi.so.6",
  "/usr/lib/x86_64-linux-gnu/libXi.so.6.1.0",
  "/usr/lib/x86_64-linux-gnu/libXinerama.so.1",
  "/usr/lib/x86_64-linux-gnu/libXinerama.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libXrandr.so.2",
  "/usr/lib/x86_64-linux-gnu/libXrandr.so.2.2.0",
  "/usr/lib/x86_64-linux-gnu/libXrender.so.1",
  "/usr/lib/x86_64-linux-gnu/libXrender.so.1.3.0",
  "/usr/lib/x86_64-linux-gnu/libXss.so.1",
  "/usr/lib/x86_64-linux-gnu/libXss.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libXtst.so.6",
  "/usr/lib/x86_64-linux-gnu/libXtst.so.6.1.0",
  "/usr/lib/x86_64-linux-gnu/nss/",
  # "/usr/libexec/dconf-service",
  # "/usr/local/share/fonts/",
  # "/usr/sbin/update-icon-caches",
  # "/usr/share/applications/obsidian.desktop",
  # "/usr/share/apport/package-hooks/source_fontconfig.py",
  # "/usr/share/bug/libgtk-3-0/",
  # "/usr/share/bug/xdg-utils/",
  # "/usr/share/dbus-1/services/ca.desrt.dconf.service",
  # "/usr/share/doc-base/fontconfig.fontconfig-user",
  # "/usr/share/doc-base/libpng16-16.libpng16",
  # "/usr/share/doc-base/shared-mime-info.shared-mime-info",
  # "/usr/share/doc/adwaita-icon-theme/",
  # "/usr/share/doc/dbus-user-session/",
  # "/usr/share/doc/dconf-gsettings-backend/",
  # "/usr/share/doc/dconf-service/",
  # "/usr/share/doc/fontconfig-config/",
  # "/usr/share/doc/fontconfig/",
  # "/usr/share/doc/fonts-dejavu-core/",
  # "/usr/share/doc/gtk-update-icon-cache/",
  # "/usr/share/doc/hicolor-icon-theme/",
  # "/usr/share/doc/humanity-icon-theme/",
  # "/usr/share/doc/libatk-bridge2.0-0/",
  # "/usr/share/doc/libatk1.0-0/",
  # "/usr/share/doc/libatk1.0-data/",
  # "/usr/share/doc/libatspi2.0-0/",
  # "/usr/share/doc/libavahi-client3/",
  # "/usr/share/doc/libavahi-common-data/",
  # "/usr/share/doc/libavahi-common3/",
  # "/usr/share/doc/libcairo-gobject2/",
  # "/usr/share/doc/libcairo2/",
  # "/usr/share/doc/libcolord2/",
  # "/usr/share/doc/libcups2/",
  # "/usr/share/doc/libdatrie1/",
  # "/usr/share/doc/libdbus-1-3/changelog.Debian.gz",
  # "/usr/share/doc/libdconf1/",
  # "/usr/share/doc/libdeflate0/",
  # "/usr/share/doc/libepoxy0/",
  # "/usr/share/doc/libfontconfig1/",
  # "/usr/share/doc/libfreetype6/",
  # "/usr/share/doc/libfribidi0/",
  # "/usr/share/doc/libgdk-pixbuf-2.0-0/",
  # "/usr/share/doc/libgdk-pixbuf2.0-common/",
  # "/usr/share/doc/libgraphite2-3/",
  # "/usr/share/doc/libgtk-3-0/",
  # "/usr/share/doc/libgtk-3-common/",
  # "/usr/share/doc/libharfbuzz0b/",
  # "/usr/share/doc/libjbig0/",
  # "/usr/share/doc/libjpeg-turbo8/",
  # "/usr/share/doc/libjpeg8/",
  # "/usr/share/doc/liblcms2-2/",
  # "/usr/share/doc/libnotify4/",
  # "/usr/share/doc/libnspr4/",
  # "/usr/share/doc/libnss3/",
  # "/usr/share/doc/libpango-1.0-0/",
  # "/usr/share/doc/libpangocairo-1.0-0/",
  # "/usr/share/doc/libpangoft2-1.0-0/",
  # "/usr/share/doc/libpixman-1-0/",
  # "/usr/share/doc/libpng16-16/",
  # "/usr/share/doc/libsecret-1-0/",
  # "/usr/share/doc/libsecret-common/",
  # "/usr/share/doc/libthai-data/",
  # "/usr/share/doc/libthai0/",
  # "/usr/share/doc/libtiff5/",
  # "/usr/share/doc/libwayland-client0/",
  # "/usr/share/doc/libwayland-cursor0/",
  # "/usr/share/doc/libwayland-egl1/",
  # "/usr/share/doc/libwebp7/",
  # "/usr/share/doc/libx11-6/",
  # "/usr/share/doc/libx11-data/",
  # "/usr/share/doc/libxau6/",
  # "/usr/share/doc/libxcb-render0/",
  # "/usr/share/doc/libxcb-shm0/",
  # "/usr/share/doc/libxcb1/",
  # "/usr/share/doc/libxcomposite1/",
  # "/usr/share/doc/libxcursor1/",
  # "/usr/share/doc/libxdamage1/",
  # "/usr/share/doc/libxdmcp6/",
  # "/usr/share/doc/libxext6/",
  # "/usr/share/doc/libxfixes3/",
  # "/usr/share/doc/libxi6/",
  # "/usr/share/doc/libxinerama1/",
  # "/usr/share/doc/libxkbcommon0/",
  # "/usr/share/doc/libxrandr2/",
  # "/usr/share/doc/libxrender1/",
  # "/usr/share/doc/libxss1/",
  # "/usr/share/doc/libxtst6/",
  # "/usr/share/doc/obsidian/",
  # "/usr/share/doc/shared-mime-info/",
  # "/usr/share/doc/ubuntu-mono/",
  # "/usr/share/doc/x11-common/",
  # "/usr/share/doc/xdg-utils/",
  # "/usr/share/doc/xkb-data/",
  # "/usr/share/fonts/",
  # "/usr/share/gettext/its/shared-mime-info.its",
  # "/usr/share/gettext/its/shared-mime-info.loc",
  # "/usr/share/glib-2.0/schemas/gschemas.compiled",
  # "/usr/share/glib-2.0/schemas/org.gtk.Settings.ColorChooser.gschema.xml",
  # "/usr/share/glib-2.0/schemas/org.gtk.Settings.Debug.gschema.xml",
  # "/usr/share/glib-2.0/schemas/org.gtk.Settings.EmojiChooser.gschema.xml",
  # "/usr/share/glib-2.0/schemas/org.gtk.Settings.FileChooser.gschema.xml",
  # "/usr/share/icons/Adwaita/",
  # "/usr/share/icons/default/",
  # "/usr/share/icons/hicolor/128x128/",
  # "/usr/share/icons/hicolor/16x16/",
  # "/usr/share/icons/hicolor/192x192/",
  # "/usr/share/icons/hicolor/22x22/",
  # "/usr/share/icons/hicolor/24x24/",
  # "/usr/share/icons/hicolor/256x256/",
  # "/usr/share/icons/hicolor/32x32/",
  # "/usr/share/icons/hicolor/36x36/",
  # "/usr/share/icons/hicolor/48x48/actions",
  # "/usr/share/icons/hicolor/48x48/animations",
  # "/usr/share/icons/hicolor/48x48/apps/obsidian.png",
  # "/usr/share/icons/hicolor/48x48/categories",
  # "/usr/share/icons/hicolor/48x48/devices",
  # "/usr/share/icons/hicolor/48x48/emblems",
  # "/usr/share/icons/hicolor/48x48/emotes",
  # "/usr/share/icons/hicolor/48x48/filesystems",
  # "/usr/share/icons/hicolor/48x48/intl",
  # "/usr/share/icons/hicolor/48x48/mimetypes",
  # "/usr/share/icons/hicolor/48x48/places",
  # "/usr/share/icons/hicolor/48x48/status",
  # "/usr/share/icons/hicolor/48x48/stock/",
  # "/usr/share/icons/hicolor/512x512/",
  # "/usr/share/icons/hicolor/64x64/",
  # "/usr/share/icons/hicolor/72x72/",
  # "/usr/share/icons/hicolor/96x96/",
  # "/usr/share/icons/hicolor/icon-theme.cache",
  # "/usr/share/icons/hicolor/index.theme",
  # "/usr/share/icons/hicolor/scalable/actions",
  # "/usr/share/icons/hicolor/scalable/animations",
  # "/usr/share/icons/hicolor/scalable/categories",
  # "/usr/share/icons/hicolor/scalable/devices",
  # "/usr/share/icons/hicolor/scalable/emblems",
  # "/usr/share/icons/hicolor/scalable/emotes",
  # "/usr/share/icons/hicolor/scalable/filesystems",
  # "/usr/share/icons/hicolor/scalable/intl",
  # "/usr/share/icons/hicolor/scalable/mimetypes",
  # "/usr/share/icons/hicolor/scalable/places",
  # "/usr/share/icons/hicolor/scalable/status",
  # "/usr/share/icons/hicolor/scalable/stock/",
  # "/usr/share/icons/hicolor/symbolic/",
  # "/usr/share/icons/Humanity-Dark/",
  # "/usr/share/icons/Humanity/",
  # "/usr/share/icons/LoginIcons/",
  # "/usr/share/icons/ubuntu-mono-dark/",
  # "/usr/share/icons/ubuntu-mono-light/",
]

[checkUpdates]
  type = 'github-release'
  url = 'https://github.com/obsidianmd/obsidian-releases'
  removePrefix = 'v'
