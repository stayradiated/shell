name = 'alacritty'
from = 'base'

version = 'v0.15.1'

devDependencies = ['clone', 'rust']

build = """
packages="cmake g++ pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev libxkbcommon-dev python3"

apt-get -q update
apt-get install -y --no-install-recommends --auto-remove $packages

clone --https --tag='{{VERSION}}' https://github.com/alacritty/alacritty
cd /root/src/github.com/alacritty/alacritty
cargo build --release --no-default-features --features=x11
mv target/release/alacritty /usr/local/bin/alacritty
rm -r /root/src/

apt-get remove --purge -y $packages
apt-get -q clean
"""

exports = [
  "/usr/bin/x86_64-linux-gnu-addr2line",
  "/usr/bin/x86_64-linux-gnu-ar",
  "/usr/bin/x86_64-linux-gnu-as",
  "/usr/bin/x86_64-linux-gnu-c++filt",
  "/usr/bin/x86_64-linux-gnu-cpp",
  "/usr/bin/x86_64-linux-gnu-cpp-13",
  "/usr/bin/x86_64-linux-gnu-dwp",
  "/usr/bin/x86_64-linux-gnu-elfedit",
  "/usr/bin/x86_64-linux-gnu-g++",
  "/usr/bin/x86_64-linux-gnu-g++-13",
  "/usr/bin/x86_64-linux-gnu-gcc",
  "/usr/bin/x86_64-linux-gnu-gcc-13",
  "/usr/bin/x86_64-linux-gnu-gcc-ar",
  "/usr/bin/x86_64-linux-gnu-gcc-ar-13",
  "/usr/bin/x86_64-linux-gnu-gcc-nm",
  "/usr/bin/x86_64-linux-gnu-gcc-nm-13",
  "/usr/bin/x86_64-linux-gnu-gcc-ranlib",
  "/usr/bin/x86_64-linux-gnu-gcc-ranlib-13",
  "/usr/bin/x86_64-linux-gnu-gcov",
  "/usr/bin/x86_64-linux-gnu-gcov-13",
  "/usr/bin/x86_64-linux-gnu-gcov-dump",
  "/usr/bin/x86_64-linux-gnu-gcov-dump-13",
  "/usr/bin/x86_64-linux-gnu-gcov-tool",
  "/usr/bin/x86_64-linux-gnu-gcov-tool-13",
  "/usr/bin/x86_64-linux-gnu-gold",
  "/usr/bin/x86_64-linux-gnu-gp-archive",
  "/usr/bin/x86_64-linux-gnu-gp-collect-app",
  "/usr/bin/x86_64-linux-gnu-gp-display-html",
  "/usr/bin/x86_64-linux-gnu-gp-display-src",
  "/usr/bin/x86_64-linux-gnu-gp-display-text",
  "/usr/bin/x86_64-linux-gnu-gprof",
  "/usr/bin/x86_64-linux-gnu-gprofng",
  "/usr/bin/x86_64-linux-gnu-ld",
  "/usr/bin/x86_64-linux-gnu-ld.bfd",
  "/usr/bin/x86_64-linux-gnu-ld.gold",
  "/usr/bin/x86_64-linux-gnu-lto-dump",
  "/usr/bin/x86_64-linux-gnu-lto-dump-13",
  "/usr/bin/x86_64-linux-gnu-nm",
  "/usr/bin/x86_64-linux-gnu-objcopy",
  "/usr/bin/x86_64-linux-gnu-objdump",
  "/usr/bin/x86_64-linux-gnu-pkg-config",
  "/usr/bin/x86_64-linux-gnu-pkgconf",
  "/usr/bin/x86_64-linux-gnu-ranlib",
  "/usr/bin/x86_64-linux-gnu-readelf",
  "/usr/bin/x86_64-linux-gnu-size",
  "/usr/bin/x86_64-linux-gnu-strings",
  "/usr/bin/x86_64-linux-gnu-strip",
  "/usr/local/bin/alacritty",
]

[checkUpdates]
type = 'github-release'
url = 'https://github.com/alacritty/alacritty'

[diff]
exclude = [
  "/etc/X11/xkb",
  "/etc/alternatives/c89",
  "/etc/alternatives/c89.1.gz",
  "/etc/alternatives/c99",
  "/etc/alternatives/c99.1.gz",
  "/etc/alternatives/cc",
  "/etc/alternatives/cc.1.gz",
  "/etc/alternatives/cpp",
  "/etc/fonts/",
  "/etc/gprofng.rc",
  "/etc/ld.so.cache",
  "/etc/perl/",
  "/root/.bashrc",
  "/root/.cargo/.package-cache",
  "/root/.cargo/registry/",
  "/root/.profile",
  "/usr/bin/addr2line",
  "/usr/bin/ar",
  "/usr/bin/as",
  "/usr/bin/c++filt",
  "/usr/bin/c89",
  "/usr/bin/c89-gcc",
  "/usr/bin/c99",
  "/usr/bin/c99-gcc",
  "/usr/bin/cc",
  "/usr/bin/corelist",
  "/usr/bin/cpan",
  "/usr/bin/cpan5.34-x86_64-linux-gnu",
  "/usr/bin/cpp",
  "/usr/bin/cpp-11",
  "/usr/bin/cpp-13",
  "/usr/bin/dwp",
  "/usr/bin/elfedit",
  "/usr/bin/enc2xs",
  "/usr/bin/encguess",
  "/usr/bin/g++-13",
  "/usr/bin/gcc",
  "/usr/bin/gcc-11",
  "/usr/bin/gcc-13",
  "/usr/bin/gcc-ar",
  "/usr/bin/gcc-ar-11",
  "/usr/bin/gcc-ar-13",
  "/usr/bin/gcc-nm",
  "/usr/bin/gcc-nm-11",
  "/usr/bin/gcc-nm-13",
  "/usr/bin/gcc-ranlib",
  "/usr/bin/gcc-ranlib-11",
  "/usr/bin/gcc-ranlib-13",
  "/usr/bin/gcov",
  "/usr/bin/gcov-11",
  "/usr/bin/gcov-13",
  "/usr/bin/gcov-dump",
  "/usr/bin/gcov-dump-11",
  "/usr/bin/gcov-dump-13",
  "/usr/bin/gcov-tool",
  "/usr/bin/gcov-tool-11",
  "/usr/bin/gcov-tool-13",
  "/usr/bin/gencat",
  "/usr/bin/git",
  "/usr/bin/gold",
  "/usr/bin/gp-archive",
  "/usr/bin/gp-collect-app",
  "/usr/bin/gp-display-html",
  "/usr/bin/gp-display-src",
  "/usr/bin/gp-display-text",
  "/usr/bin/gprof",
  "/usr/bin/gprofng",
  "/usr/bin/h2ph",
  "/usr/bin/h2xs",
  "/usr/bin/instmodsh",
  "/usr/bin/json_pp",
  "/usr/bin/ld",
  "/usr/bin/ld.bfd",
  "/usr/bin/ld.gold",
  "/usr/bin/libnetcfg",
  "/usr/bin/libpng-config",
  "/usr/bin/libpng16-config",
  "/usr/bin/lto-dump",
  "/usr/bin/lto-dump-11",
  "/usr/bin/lto-dump-13",
  "/usr/bin/nm",
  "/usr/bin/objcopy",
  "/usr/bin/objdump",
  "/usr/bin/perl",
  "/usr/bin/perl5.34-x86_64-linux-gnu",
  "/usr/bin/perl5.34.0",
  "/usr/bin/perlbug",
  "/usr/bin/perldoc",
  "/usr/bin/perlivp",
  "/usr/bin/perlthanks",
  "/usr/bin/piconv",
  "/usr/bin/pkg-config",
  "/usr/bin/pkgconf",
  "/usr/bin/pl2pm",
  "/usr/bin/pod2html",
  "/usr/bin/pod2man",
  "/usr/bin/pod2text",
  "/usr/bin/pod2usage",
  "/usr/bin/podchecker",
  "/usr/bin/prove",
  "/usr/bin/ptar",
  "/usr/bin/ptardiff",
  "/usr/bin/ptargrep",
  "/usr/bin/ranlib",
  "/usr/bin/readelf",
  "/usr/bin/rpcgen",
  "/usr/bin/shasum",
  "/usr/bin/size",
  "/usr/bin/splain",
  "/usr/bin/streamzip",
  "/usr/bin/strings",
  "/usr/bin/strip",
  "/usr/bin/xsubpp",
  "/usr/bin/zipdetails",
  "/usr/include/**",
  "/usr/lib/bfd-plugins/",
  "/usr/lib/compat-ld/",
  "/usr/lib/cpp",
  "/usr/lib/dh-elpa/",
  "/usr/lib/emacsen-common/",
  "/usr/lib/gcc/",
  "/usr/lib/git-core/",
  "/usr/lib/gold-ld/",
  "/usr/lib/pkgconfig",
  "/usr/lib/x86_64-linux-gnu/**",
  "/usr/libexec/gcc/",
  "/usr/local/bin/clone",
  "/usr/local/share/fonts",
  "/usr/share/X11/",
  "/usr/share/aclocal/",
  "/usr/share/bug/binutils/",
  "/usr/share/bug/libdpkg-perl",
  "/usr/share/cmake-3.22/",
  "/usr/share/cmake-3.28/",
  "/usr/share/doc-base/libexpat1-dev.expat",
  "/usr/share/doc-base/libpng16-16.libpng16",
  "/usr/share/doc-base/libpng16-16t64.libpng16",
  "/usr/share/doc/**",
  "/usr/share/dpkg/no-pie-compile.specs",
  "/usr/share/dpkg/no-pie-link.specs",
  "/usr/share/dpkg/pie-compile.specs",
  "/usr/share/dpkg/pie-link.specs",
  "/usr/share/emacs/",
  "/usr/share/emacsen-common/",
  "/usr/share/fontconfig/",
  "/usr/share/fonts/",
  "/usr/share/gdb/auto-load/lib/",
  "/usr/share/gdb/auto-load/usr/lib/x86_64-linux-gnu/libisl.so.23.1.0-gdb.py",
  "/usr/share/gdb/auto-load/usr/lib/x86_64-linux-gnu/libisl.so.23.3.0-gdb.py",
  "/usr/share/gettext/",
  "/usr/share/git-core/",
  "/usr/share/lintian/**",
  "/usr/share/man/**",
  "/usr/share/perl/",
  "/usr/share/perl5/**",
  "/usr/share/pkgconfig/**",
  "/usr/share/sgml/",
  "/usr/share/sgml/X11/",
  "/usr/share/vim/vimfiles/",
  "/usr/share/xml/fontconfig/",
  "/var/cache/ldconfig/aux-cache",
  "/var/lib/apt/extended_states",
  "/var/lib/apt/lists/**",
  "/var/lib/dpkg/**",
  "/var/lib/emacsen-common/",
  "/var/lib/git",
  "/var/log/alternatives.log",
  "/var/log/apt/**",
  "/var/log/dpkg.log",
]
