name = "electrum"
from = "base"

# https://electrum.org/
version = "4.1.5"

devDependencies = [ "apteryx", "python3-pip", "wget" ]

build = """
# get public key for ThomasV
wget https://raw.githubusercontent.com/spesmilo/electrum/master/pubkeys/ThomasV.asc
gpg --import ThomasV.asc

# get public key for sombernight_releasekey
wget https://raw.githubusercontent.com/spesmilo/electrum/master/pubkeys/sombernight_releasekey.asc
gpg --import sombernight_releasekey.asc

# download source
wget https://download.electrum.org/{{VERSION}}/Electrum-{{VERSION}}.tar.gz

# verify with ThomasV public key
wget https://download.electrum.org/{{VERSION}}/Electrum-{{VERSION}}.tar.gz.ThomasV.asc
gpg --verify Electrum-{{VERSION}}.tar.gz.ThomasV.asc Electrum-{{VERSION}}.tar.gz

# verify with sombernight_releasekey public key
wget https://download.electrum.org/{{VERSION}}/Electrum-{{VERSION}}.tar.gz.sombernight_releasekey.asc
gpg --verify Electrum-{{VERSION}}.tar.gz.sombernight_releasekey.asc Electrum-{{VERSION}}.tar.gz

apteryx \
  python3-pyqt5 \
  libsecp256k1-0 \
  python3-cryptography 

python3 -m pip install ./Electrum-{{VERSION}}.tar.gz

rm *.tar.gz *.asc
"""

exports = [
  # "/etc/fonts/",
  # "/etc/glvnd/",
  # "/etc/init.d/x11-common",
  # "/etc/ld.so.cache",
  # "/etc/rcS.d/S01x11-common",
  # "/etc/sensors3.conf",
  # "/etc/sensors.d/",
  # "/etc/vulkan/",
  # "/etc/X11/rgb.txt",
  # "/etc/X11/xkb",
  # "/etc/X11/Xreset",
  # "/etc/X11/Xreset.d/",
  # "/etc/X11/Xresources/",
  # "/etc/X11/Xsession",
  # "/etc/X11/Xsession.d/20x11-common_process-args",
  # "/etc/X11/Xsession.d/30x11-common_xresources",
  # "/etc/X11/Xsession.d/35x11-common_xhost-local",
  # "/etc/X11/Xsession.d/40x11-common_xsessionrc",
  # "/etc/X11/Xsession.d/50x11-common_determine-startup",
  # "/etc/X11/Xsession.d/60x11-common_localhost",
  # "/etc/X11/Xsession.d/60x11-common_xdg_path",
  # "/etc/X11/Xsession.d/90x11-common_ssh-agent",
  # "/etc/X11/Xsession.d/99x11-common_start",
  # "/etc/X11/Xsession.options",
  # "/usr/bin/fc-cache",
  # "/usr/bin/fc-cat",
  # "/usr/bin/fc-conflist",
  # "/usr/bin/fc-list",
  # "/usr/bin/fc-match",
  # "/usr/bin/fc-pattern",
  # "/usr/bin/fc-query",
  # "/usr/bin/fc-scan",
  # "/usr/bin/fc-validate",
  # "/usr/bin/X11",
  # "/usr/include/X11",
  "/usr/lib/python3/dist-packages/_cffi_backend.cpython-38-x86_64-linux-gnu.so",
  "/usr/lib/python3/dist-packages/cryptography/",
  "/usr/lib/python3/dist-packages/cryptography-2.8.egg-info/",
  # "/usr/lib/python3/dist-packages/__pycache__/sipconfig.cpython-38.pyc",
  # "/usr/lib/python3/dist-packages/__pycache__/sipconfig_nd8.cpython-38.pyc",
  "/usr/lib/python3/dist-packages/PyQt5/",
  "/usr/lib/python3/dist-packages/PyQt5-*.dist-info/",
  "/usr/lib/python3/dist-packages/sipconfig_nd8.py",
  "/usr/lib/python3/dist-packages/sipconfig.py",
  "/usr/lib/python3/dist-packages/sip.cpython-38-x86_64-linux-gnu.so",
  "/usr/lib/python3/dist-packages/sip-*.dist-info/",
  "/usr/lib/python3/dist-packages/sip.pyi",
  "/usr/lib/udev/libinput-device-group",
  "/usr/lib/udev/libinput-fuzz-extract",
  "/usr/lib/udev/libinput-fuzz-to-zero",
  "/usr/lib/udev/rules.d/65-libwacom.rules",
  "/usr/lib/udev/rules.d/80-libinput-device-groups.rules",
  "/usr/lib/udev/rules.d/90-libinput-fuzz-override.rules",
  "/usr/lib/X11",
  "/usr/lib/x86_64-linux-gnu/avahi/",
  "/usr/lib/x86_64-linux-gnu/dri/",
  "/usr/lib/x86_64-linux-gnu/libavahi-client.so*",
  "/usr/lib/x86_64-linux-gnu/libavahi-common.so*",
  "/usr/lib/x86_64-linux-gnu/libcups.so.*",
  "/usr/lib/x86_64-linux-gnu/libdouble-conversion.so.*",
  "/usr/lib/x86_64-linux-gnu/libdrm_amdgpu.so.*",
  "/usr/lib/x86_64-linux-gnu/libdrm_intel.so*",
  "/usr/lib/x86_64-linux-gnu/libdrm_nouveau.so*",
  "/usr/lib/x86_64-linux-gnu/libdrm_radeon.so*",
  "/usr/lib/x86_64-linux-gnu/libdrm.so*",
  "/usr/lib/x86_64-linux-gnu/libEGL_mesa.so*",
  "/usr/lib/x86_64-linux-gnu/libEGL.so*",
  "/usr/lib/x86_64-linux-gnu/libevdev.so*",
  "/usr/lib/x86_64-linux-gnu/libfontconfig.so.*",
  "/usr/lib/x86_64-linux-gnu/libfreetype.so.*",
  "/usr/lib/x86_64-linux-gnu/libgbm.so*",
  "/usr/lib/x86_64-linux-gnu/libglapi.so*",
  "/usr/lib/x86_64-linux-gnu/libGLdispatch.so*",
  "/usr/lib/x86_64-linux-gnu/libGL.so*",
  "/usr/lib/x86_64-linux-gnu/libGLX_indirect.so.*",
  "/usr/lib/x86_64-linux-gnu/libGLX_mesa.so*",
  "/usr/lib/x86_64-linux-gnu/libGLX.so*",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so*",
  "/usr/lib/x86_64-linux-gnu/libgudev-1.0.so*",
  "/usr/lib/x86_64-linux-gnu/libharfbuzz.so.*",
  "/usr/lib/x86_64-linux-gnu/libICE.so*",
  "/usr/lib/x86_64-linux-gnu/libinput.so.*",
  "/usr/lib/x86_64-linux-gnu/libjpeg.so*",
  "/usr/lib/x86_64-linux-gnu/libLLVM-*.so",
  "/usr/lib/x86_64-linux-gnu/libLLVM-*.so.*",
  "/usr/lib/x86_64-linux-gnu/libmtdev.so*",
  "/usr/lib/x86_64-linux-gnu/libpciaccess.so.*",
  "/usr/lib/x86_64-linux-gnu/libpcre2-16.so*",
  "/usr/lib/x86_64-linux-gnu/libpng16.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Core.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5DBus.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Designer.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5EglFSDeviceIntegration.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5EglFsKmsSupport.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Gui.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Help.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Network.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5PrintSupport.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Sql.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Test.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Widgets.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5XcbQpa.so.*",
  "/usr/lib/x86_64-linux-gnu/libQt5Xml.so.*",
  "/usr/lib/x86_64-linux-gnu/libsecp256k1.so*",
  "/usr/lib/x86_64-linux-gnu/libsensors.so*",
  "/usr/lib/x86_64-linux-gnu/libSM.so*",
  "/usr/lib/x86_64-linux-gnu/libvulkan.so*",
  "/usr/lib/x86_64-linux-gnu/libwacom.so*",
  "/usr/lib/x86_64-linux-gnu/libwayland-client.so*",
  "/usr/lib/x86_64-linux-gnu/libwayland-server.so*",
  "/usr/lib/x86_64-linux-gnu/libX11.so*",
  "/usr/lib/x86_64-linux-gnu/libX11-xcb.so*",
  "/usr/lib/x86_64-linux-gnu/libXau.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-dri2.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-dri3.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-glx.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-icccm.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-image.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-keysyms.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-present.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-randr.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-render.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-render-util.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-shape.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-shm.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-sync.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-util.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-xfixes.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-xinerama.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-xinput.so*",
  "/usr/lib/x86_64-linux-gnu/libxcb-xkb.so*",
  # "/usr/lib/x86_64-linux-gnu/libXdamage.so*",
  "/usr/lib/x86_64-linux-gnu/libXdmcp.so*",
  "/usr/lib/x86_64-linux-gnu/libXext.so*",
  "/usr/lib/x86_64-linux-gnu/libXfixes.so*",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon.so*",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon-x11.so*",
  "/usr/lib/x86_64-linux-gnu/libXrender.so*",
  "/usr/lib/x86_64-linux-gnu/libxshmfence.so*",
  "/usr/lib/x86_64-linux-gnu/libXxf86vm.so*",
  "/usr/lib/x86_64-linux-gnu/qt5/",
  "/usr/lib/x86_64-linux-gnu/qt-default/",
  "/usr/local/bin/electrum",
  "/usr/local/bin/helpdev",
  "/usr/local/bin/qdarkstyle",
  "/usr/local/bin/qr",
  "/usr/local/lib/python3.8/dist-packages/__pycache__/",
  "/usr/local/lib/python3.8/dist-packages/aiohttp_socks-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/aiohttp_socks/",
  "/usr/local/lib/python3.8/dist-packages/aiohttp-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/aiohttp/",
  "/usr/local/lib/python3.8/dist-packages/aiorpcX-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/aiorpcx/",
  "/usr/local/lib/python3.8/dist-packages/aiosignal-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/aiosignal/",
  "/usr/local/lib/python3.8/dist-packages/async_timeout-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/async_timeout/",
  "/usr/local/lib/python3.8/dist-packages/attr/",
  "/usr/local/lib/python3.8/dist-packages/attrs-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/attrs/",
  "/usr/local/lib/python3.8/dist-packages/bitstring-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/bitstring.py",
  "/usr/local/lib/python3.8/dist-packages/charset_normalizer-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/charset_normalizer/",
  "/usr/local/lib/python3.8/dist-packages/dns/",
  "/usr/local/lib/python3.8/dist-packages/dnspython-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/Electrum-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/electrum/",
  "/usr/local/lib/python3.8/dist-packages/frozenlist-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/frozenlist/",
  "/usr/local/lib/python3.8/dist-packages/google/",
  "/usr/local/lib/python3.8/dist-packages/helpdev-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/helpdev/",
  "/usr/local/lib/python3.8/dist-packages/multidict-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/multidict/",
  "/usr/local/lib/python3.8/dist-packages/packaging-21.3.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/packaging/",
  "/usr/local/lib/python3.8/dist-packages/protobuf-*-py3.8-nspkg.pth",
  "/usr/local/lib/python3.8/dist-packages/protobuf-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/pyparsing-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/pyparsing/",
  "/usr/local/lib/python3.8/dist-packages/python_socks-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/python_socks/",
  "/usr/local/lib/python3.8/dist-packages/QDarkStyle-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/qdarkstyle/",
  "/usr/local/lib/python3.8/dist-packages/qrcode-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/qrcode/",
  "/usr/local/lib/python3.8/dist-packages/QtPy-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/qtpy/",
  "/usr/local/lib/python3.8/dist-packages/usr/",
  "/usr/local/lib/python3.8/dist-packages/yarl-*.dist-info/",
  "/usr/local/lib/python3.8/dist-packages/yarl/",
  # "/usr/local/share/fonts/",
  # "/usr/local/share/man/man1/",
  # "/usr/share/apport/package-hooks/source_fontconfig.py",
  # "/usr/share/apport/package-hooks/source_mtdev.py",
  # "/usr/share/bug/libegl1/",
  # "/usr/share/bug/libegl-mesa0/",
  # "/usr/share/bug/libgbm1/",
  # "/usr/share/bug/libgl1/",
  # "/usr/share/bug/libgl1-mesa-dri/",
  # "/usr/share/bug/libglapi-mesa/",
  # "/usr/share/bug/libglvnd0/",
  # "/usr/share/bug/libglx0/",
  # "/usr/share/bug/libglx-mesa0/",
  # "/usr/share/doc-base/fontconfig-user",
  # "/usr/share/doc-base/libpng16",
  # "/usr/share/doc/fontconfig/",
  # "/usr/share/doc/fontconfig-config/",
  # "/usr/share/doc/fonts-dejavu-core/",
  # "/usr/share/doc/libavahi-client3/",
  # "/usr/share/doc/libavahi-common3/",
  # "/usr/share/doc/libavahi-common-data/",
  # "/usr/share/doc/libcups2/",
  # "/usr/share/doc/libdouble-conversion3/",
  # "/usr/share/doc/libdrm2/",
  # "/usr/share/doc/libdrm-amdgpu1/",
  # "/usr/share/doc/libdrm-common/",
  # "/usr/share/doc/libdrm-intel1/",
  # "/usr/share/doc/libdrm-nouveau2/",
  # "/usr/share/doc/libdrm-radeon1/",
  # "/usr/share/doc/libegl1/",
  # "/usr/share/doc/libegl-mesa0/",
  # "/usr/share/doc/libevdev2/",
  # "/usr/share/doc/libfontconfig1/",
  # "/usr/share/doc/libfreetype6/",
  # "/usr/share/doc/libgbm1/",
  # "/usr/share/doc/libgl1/",
  # "/usr/share/doc/libgl1-mesa-dri/",
  # "/usr/share/doc/libglapi-mesa/",
  # "/usr/share/doc/libglvnd0/",
  # "/usr/share/doc/libglx0/",
  # "/usr/share/doc/libglx-mesa0/",
  # "/usr/share/doc/libgraphite2-3/",
  # "/usr/share/doc/libgudev-1.0-0/",
  # "/usr/share/doc/libharfbuzz0b/",
  # "/usr/share/doc/libice6/",
  # "/usr/share/doc/libinput10/",
  # "/usr/share/doc/libinput-bin/",
  # "/usr/share/doc/libjpeg8/",
  # "/usr/share/doc/libjpeg-turbo8/",
  # "/usr/share/doc/libllvm*/",
  # "/usr/share/doc/libmtdev1/",
  # "/usr/share/doc/libpciaccess0/",
  # "/usr/share/doc/libpcre2-16-0/",
  # "/usr/share/doc/libpng16-16/",
  # "/usr/share/doc/libqt5core5a/",
  # "/usr/share/doc/libqt5dbus5/",
  # "/usr/share/doc/libqt5designer5/",
  # "/usr/share/doc/libqt5gui5/",
  # "/usr/share/doc/libqt5help5/",
  # "/usr/share/doc/libqt5network5/",
  # "/usr/share/doc/libqt5printsupport5/",
  # "/usr/share/doc/libqt5sql5/",
  # "/usr/share/doc/libqt5test5/",
  # "/usr/share/doc/libqt5widgets5/",
  # "/usr/share/doc/libqt5xml5/",
  # "/usr/share/doc/libsecp256k1-0/",
  # "/usr/share/doc/libsensors5/",
  # "/usr/share/doc/libsensors-config/",
  # "/usr/share/doc/libsm6/",
  # "/usr/share/doc/libvulkan1/",
  # "/usr/share/doc/libwacom2/",
  # "/usr/share/doc/libwacom-common/",
  # "/usr/share/doc/libwayland-client0/",
  # "/usr/share/doc/libwayland-server0/",
  # "/usr/share/doc/libx11-6/",
  # "/usr/share/doc/libx11-data/",
  # "/usr/share/doc/libx11-xcb1/",
  # "/usr/share/doc/libxau6/",
  # "/usr/share/doc/libxcb1/",
  # "/usr/share/doc/libxcb-dri2-0/",
  # "/usr/share/doc/libxcb-dri3-0/",
  # "/usr/share/doc/libxcb-glx0/",
  # "/usr/share/doc/libxcb-icccm4/",
  # "/usr/share/doc/libxcb-image0/",
  # "/usr/share/doc/libxcb-keysyms1/",
  # "/usr/share/doc/libxcb-present0/",
  # "/usr/share/doc/libxcb-randr0/",
  # "/usr/share/doc/libxcb-render0/",
  # "/usr/share/doc/libxcb-render-util0/",
  # "/usr/share/doc/libxcb-shape0/",
  # "/usr/share/doc/libxcb-shm0/",
  # "/usr/share/doc/libxcb-sync1/",
  # "/usr/share/doc/libxcb-util1/",
  # "/usr/share/doc/libxcb-xfixes0/",
  # "/usr/share/doc/libxcb-xinerama0/",
  # "/usr/share/doc/libxcb-xinput0/",
  # "/usr/share/doc/libxcb-xkb1/",
  # "/usr/share/doc/libxdamage1/",
  # "/usr/share/doc/libxdmcp6/",
  # "/usr/share/doc/libxext6/",
  # "/usr/share/doc/libxfixes3/",
  # "/usr/share/doc/libxkbcommon0/",
  # "/usr/share/doc/libxkbcommon-x11-0/",
  # "/usr/share/doc/libxrender1/",
  # "/usr/share/doc/libxshmfence1/",
  # "/usr/share/doc/libxxf86vm1/",
  # "/usr/share/doc/python3-cffi-backend/",
  # "/usr/share/doc/python3-cryptography/",
  # "/usr/share/doc/python3-pyqt5/",
  # "/usr/share/doc/python3-sip/",
  # "/usr/share/doc/wget/",
  # "/usr/share/doc/x11-common/",
  # "/usr/share/doc/xkb-data/",
  # "/usr/share/drirc.d/",
  # "/usr/share/fonts/",
  # "/usr/share/glvnd/",
  # "/usr/share/libdrm/",
  # "/usr/share/libinput/",
  # "/usr/share/libwacom/",
  # "/usr/share/lintian/overrides/fontconfig",
  # "/usr/share/lintian/overrides/libdrm-nouveau2",
  # "/usr/share/lintian/overrides/libgbm1",
  # "/usr/share/lintian/overrides/libglapi-mesa",
  # "/usr/share/lintian/overrides/libglvnd0",
  # "/usr/share/lintian/overrides/libjpeg-turbo8",
  # "/usr/share/lintian/overrides/libllvm*",
  # "/usr/share/lintian/overrides/libqt5core5a",
  # "/usr/share/lintian/overrides/libqt5dbus5",
  # "/usr/share/lintian/overrides/libqt5gui5",
  # "/usr/share/lintian/overrides/libqt5network5",
  # "/usr/share/lintian/overrides/libqt5printsupport5",
  # "/usr/share/lintian/overrides/libqt5sql5",
  # "/usr/share/lintian/overrides/libqt5test5",
  # "/usr/share/lintian/overrides/libqt5widgets5",
  # "/usr/share/lintian/overrides/libqt5xml5",
  # "/usr/share/lintian/overrides/libx11-6",
  # "/usr/share/lintian/overrides/x11-common",
  # "/usr/share/man/man1/fc-cache.1.gz",
  # "/usr/share/man/man1/fc-cat.1.gz",
  # "/usr/share/man/man1/fc-conflist.1.gz",
  # "/usr/share/man/man1/fc-list.1.gz",
  # "/usr/share/man/man1/fc-match.1.gz",
  # "/usr/share/man/man1/fc-pattern.1.gz",
  # "/usr/share/man/man1/fc-query.1.gz",
  # "/usr/share/man/man1/fc-scan.1.gz",
  # "/usr/share/man/man1/fc-validate.1.gz",
  # "/usr/share/man/man1/wget.1.gz",
  # "/usr/share/man/man5/Compose.5.gz",
  # "/usr/share/man/man5/fonts-conf.5.gz",
  # "/usr/share/man/man5/XCompose.5.gz",
  # "/usr/share/man/man5/Xsession.5.gz",
  # "/usr/share/man/man5/Xsession.options.5.gz",
  # "/usr/share/man/man7/xkeyboard-config.7.gz",
  # "/usr/share/pkgconfig/xkeyboard-config.pc",
  # "/usr/share/python3/dist/python3-cryptography",
  # "/usr/share/python3/dist/python3-sip",
  # "/usr/share/X11/",
  # "/usr/share/xml/fontconfig/",
]
