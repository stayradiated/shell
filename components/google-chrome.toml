name = 'google-chrome'
from = 'base'

# https://www.ubuntuupdates.org/ppa/google_chrome
version = '97.0.4692.20-1'

devDependencies = [
  'wget',
  'apteryx',
]

build = """
curl -s https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add - 
sh -c 'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google.list'
apt-get update

apteryx google-chrome-beta='{{VERSION}}'
"""

exports = [
  "/etc/alternatives/gnome-www-browser",
  "/etc/alternatives/google-chrome",
  "/etc/alternatives/x-cursor-theme",
  "/etc/alternatives/x-www-browser",
  # "/etc/cron.daily/google-chrome",
  "/etc/default/google-chrome-beta",
  # "/etc/fonts/",
  "/etc/gtk-3.0/",
  "/etc/ld.so.cache",
  "/etc/mailcap",
  "/etc/X11/xkb",
  "/opt/google/",
  "/usr/bin/browse",
  "/usr/bin/fc-cache",
  "/usr/bin/fc-cat",
  "/usr/bin/fc-conflist",
  "/usr/bin/fc-list",
  "/usr/bin/fc-match",
  "/usr/bin/fc-pattern",
  "/usr/bin/fc-query",
  "/usr/bin/fc-scan",
  "/usr/bin/fc-validate",
  "/usr/bin/gnome-www-browser",
  "/usr/bin/google-chrome",
  "/usr/bin/google-chrome-beta",
  "/usr/bin/gtk-update-icon-cache",
  "/usr/bin/update-mime-database",
  "/usr/bin/x-www-browser",
  "/usr/bin/xdg-desktop-icon",
  "/usr/bin/xdg-desktop-menu",
  "/usr/bin/xdg-email",
  "/usr/bin/xdg-icon-resource",
  "/usr/bin/xdg-mime",
  "/usr/bin/xdg-open",
  "/usr/bin/xdg-screensaver",
  "/usr/bin/xdg-settings",
  "/usr/lib/x86_64-linux-gnu/avahi/",
  "/usr/lib/x86_64-linux-gnu/gdk-pixbuf-2.0/",
  "/usr/lib/x86_64-linux-gnu/gtk-3.0/",
  "/usr/lib/x86_64-linux-gnu/libasound.so.2",
  "/usr/lib/x86_64-linux-gnu/libasound.so.2.0.0",
  "/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0.23510.1",
  "/usr/lib/x86_64-linux-gnu/libatk-bridge-2.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libatk-bridge-2.0.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libatspi.so.0",
  "/usr/lib/x86_64-linux-gnu/libatspi.so.0.0.1",
  "/usr/lib/x86_64-linux-gnu/libavahi-client.so.3",
  "/usr/lib/x86_64-linux-gnu/libavahi-client.so.3.2.9",
  "/usr/lib/x86_64-linux-gnu/libavahi-common.so.3",
  "/usr/lib/x86_64-linux-gnu/libavahi-common.so.3.5.3",
  "/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2",
  "/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2.11600.0",
  "/usr/lib/x86_64-linux-gnu/libcairo.so.2",
  "/usr/lib/x86_64-linux-gnu/libcairo.so.2.11600.0",
  "/usr/lib/x86_64-linux-gnu/libcolord.so.2",
  "/usr/lib/x86_64-linux-gnu/libcolord.so.2.0.5",
  "/usr/lib/x86_64-linux-gnu/libcolordprivate.so.2",
  "/usr/lib/x86_64-linux-gnu/libcolordprivate.so.2.0.5",
  "/usr/lib/x86_64-linux-gnu/libcups.so.2",
  "/usr/lib/x86_64-linux-gnu/libdatrie.so.1",
  "/usr/lib/x86_64-linux-gnu/libdatrie.so.1.3.5",
  "/usr/lib/x86_64-linux-gnu/libdrm.so.2",
  "/usr/lib/x86_64-linux-gnu/libdrm.so.2.4.0",
  "/usr/lib/x86_64-linux-gnu/libepoxy.so.0",
  "/usr/lib/x86_64-linux-gnu/libepoxy.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libfontconfig.so.1",
  "/usr/lib/x86_64-linux-gnu/libfontconfig.so.1.12.0",
  "/usr/lib/x86_64-linux-gnu/libfreebl3.chk",
  "/usr/lib/x86_64-linux-gnu/libfreebl3.so",
  "/usr/lib/x86_64-linux-gnu/libfreeblpriv3.chk",
  "/usr/lib/x86_64-linux-gnu/libfreeblpriv3.so",
  "/usr/lib/x86_64-linux-gnu/libfreetype.so.6",
  "/usr/lib/x86_64-linux-gnu/libfreetype.so.6.17.1",
  "/usr/lib/x86_64-linux-gnu/libfribidi.so.0",
  "/usr/lib/x86_64-linux-gnu/libfribidi.so.0.4.0",
  "/usr/lib/x86_64-linux-gnu/libgbm.so.1",
  "/usr/lib/x86_64-linux-gnu/libgbm.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf_xlib-2.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf_xlib-2.0.so.0.4000.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libgdk_pixbuf-2.0.so.0.4000.0",
  "/usr/lib/x86_64-linux-gnu/libgdk-3.so.0",
  "/usr/lib/x86_64-linux-gnu/libgdk-3.so.0.2404.16",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.2.0.0",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.3",
  "/usr/lib/x86_64-linux-gnu/libgraphite2.so.3.2.1",
  "/usr/lib/x86_64-linux-gnu/libgtk-3-0/",
  "/usr/lib/x86_64-linux-gnu/libgtk-3.so.0",
  "/usr/lib/x86_64-linux-gnu/libgtk-3.so.0.2404.16",
  "/usr/lib/x86_64-linux-gnu/libharfbuzz.so.0",
  "/usr/lib/x86_64-linux-gnu/libharfbuzz.so.0.20600.4",
  "/usr/lib/x86_64-linux-gnu/libjbig.so.0",
  "/usr/lib/x86_64-linux-gnu/libjpeg.so.8",
  "/usr/lib/x86_64-linux-gnu/libjpeg.so.8.2.2",
  "/usr/lib/x86_64-linux-gnu/libjson-glib-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libjson-glib-1.0.so.0.400.4",
  "/usr/lib/x86_64-linux-gnu/liblcms2.so.2",
  "/usr/lib/x86_64-linux-gnu/liblcms2.so.2.0.8",
  "/usr/lib/x86_64-linux-gnu/libnspr4.so",
  "/usr/lib/x86_64-linux-gnu/libnss3.so",
  "/usr/lib/x86_64-linux-gnu/libnssutil3.so",
  "/usr/lib/x86_64-linux-gnu/libpango-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpango-1.0.so.0.4400.7",
  "/usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpangocairo-1.0.so.0.4400.7",
  "/usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0",
  "/usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0.4400.7",
  "/usr/lib/x86_64-linux-gnu/libpixman-1.so.0",
  "/usr/lib/x86_64-linux-gnu/libpixman-1.so.0.38.4",
  "/usr/lib/x86_64-linux-gnu/libplc4.so",
  "/usr/lib/x86_64-linux-gnu/libplds4.so",
  "/usr/lib/x86_64-linux-gnu/libpng16.so.16",
  "/usr/lib/x86_64-linux-gnu/libpng16.so.16.37.0",
  "/usr/lib/x86_64-linux-gnu/librest-0.7.so.0",
  "/usr/lib/x86_64-linux-gnu/librest-0.7.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/librsvg-2.so.2",
  "/usr/lib/x86_64-linux-gnu/librsvg-2.so.2.47.0",
  "/usr/lib/x86_64-linux-gnu/libsmime3.so",
  "/usr/lib/x86_64-linux-gnu/libsoup-gnome-2.4.so.1",
  "/usr/lib/x86_64-linux-gnu/libsoup-gnome-2.4.so.1.9.0",
  "/usr/lib/x86_64-linux-gnu/libssl3.so",
  "/usr/lib/x86_64-linux-gnu/libthai.so.0",
  "/usr/lib/x86_64-linux-gnu/libthai.so.0.3.1",
  "/usr/lib/x86_64-linux-gnu/libtiff.so.5",
  "/usr/lib/x86_64-linux-gnu/libtiff.so.5.5.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-client.so.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-client.so.0.3.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1",
  "/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-server.so.0",
  "/usr/lib/x86_64-linux-gnu/libwayland-server.so.0.1.0",
  "/usr/lib/x86_64-linux-gnu/libwebp.so.6",
  "/usr/lib/x86_64-linux-gnu/libwebp.so.6.0.2",
  "/usr/lib/x86_64-linux-gnu/libX11.so.6",
  "/usr/lib/x86_64-linux-gnu/libX11.so.6.3.0",
  "/usr/lib/x86_64-linux-gnu/libXau.so.6",
  "/usr/lib/x86_64-linux-gnu/libXau.so.6.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-render.so.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-render.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-shm.so.0",
  "/usr/lib/x86_64-linux-gnu/libxcb-shm.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libxcb.so.1",
  "/usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0",
  "/usr/lib/x86_64-linux-gnu/libXcomposite.so.1",
  "/usr/lib/x86_64-linux-gnu/libXcomposite.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libXcursor.so.1",
  "/usr/lib/x86_64-linux-gnu/libXcursor.so.1.0.2",
  "/usr/lib/x86_64-linux-gnu/libXdamage.so.1",
  "/usr/lib/x86_64-linux-gnu/libXdamage.so.1.1.0",
  "/usr/lib/x86_64-linux-gnu/libXdmcp.so.6",
  "/usr/lib/x86_64-linux-gnu/libXdmcp.so.6.0.0",
  "/usr/lib/x86_64-linux-gnu/libXext.so.6",
  "/usr/lib/x86_64-linux-gnu/libXext.so.6.4.0",
  "/usr/lib/x86_64-linux-gnu/libXfixes.so.3",
  "/usr/lib/x86_64-linux-gnu/libXfixes.so.3.1.0",
  "/usr/lib/x86_64-linux-gnu/libXi.so.6",
  "/usr/lib/x86_64-linux-gnu/libXi.so.6.1.0",
  "/usr/lib/x86_64-linux-gnu/libXinerama.so.1",
  "/usr/lib/x86_64-linux-gnu/libXinerama.so.1.0.0",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0",
  "/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0.0.0",
  "/usr/lib/x86_64-linux-gnu/libXrandr.so.2",
  "/usr/lib/x86_64-linux-gnu/libXrandr.so.2.2.0",
  "/usr/lib/x86_64-linux-gnu/libXrender.so.1",
  "/usr/lib/x86_64-linux-gnu/libXrender.so.1.3.0",
  # "/usr/lib/x86_64-linux-gnu/libxshmfence.so.*",
  "/usr/lib/x86_64-linux-gnu/nss/",
  "/usr/local/share/fonts/",
  "/usr/sbin/update-icon-caches",
  "/usr/share/alsa/",
  "/usr/share/appdata/",
  # "/usr/share/applications/google-chrome.desktop",
  # "/usr/share/doc/google-chrome-beta/",
  # "/usr/share/man/man1/google-chrome-beta.1.gz",
  # "/usr/share/man/man1/google-chrome.1.gz",
  # "/usr/share/menu/google-chrome.menu",
]

exportEnv = [
  ['PATH', "${PATH}:/opt/google/chrome"]
]
